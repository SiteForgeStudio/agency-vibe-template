---
import { iconLibrary } from '../lib/icons';
const { data } = Astro.props;

const normalizeIcon = (icon) =>
  icon?.toLowerCase().replace(/[_\s]/g, "-");
---

<section class="py-8 bg-[var(--bg-color)] border-b border-[var(--border)]">
  <div class="max-w-6xl mx-auto px-6">
    
    {data?.headline && (
      <p class="text-center text-sm uppercase tracking-widest text-[var(--text-secondary)] mb-6">
        {data.headline}
      </p>
    )}

    <ul class="grid gap-8 items-center text-center
               grid-cols-2
               md:grid-cols-[repeat(auto-fit,minmax(150px,1fr))]
               justify-items-center">

      {data.items.map((item) => (
        <li class="flex flex-col items-center gap-2 group transition-transform duration-300 hover:-translate-y-1">

          <div class="w-10 h-10 flex items-center justify-center">
            {item.icon && iconLibrary[normalizeIcon(item.icon)] ? (
              <svg 
                class="w-8 h-8 text-[var(--accent)] drop-shadow-[0_0_6px_var(--accent)]"
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                stroke-width="2" 
                stroke-linecap="round" 
                stroke-linejoin="round"
              >
                <path d={iconLibrary[normalizeIcon(item.icon)]} />
              </svg>
            ) : (
              <span class="text-2xl">{item.icon}</span>
            )}
          </div>

          <span class="font-bold text-[var(--text-primary)]">
            {item.label}
          </span>

          {item.sublabel && (
            <span class="text-sm text-[var(--text-secondary)]">
              {item.sublabel}
            </span>
          )}
        </li>
      ))}
    </ul>
  </div>
</section>