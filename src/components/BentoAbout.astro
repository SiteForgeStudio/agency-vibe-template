---
const { brand, about, intelligence } = Astro.props;

if (!about && !brand) return null;

const story =
  about?.story_text ||
  brand?.tagline ||
  "We exist to redefine what premium service means.";

const founderNote =
  about?.founder_note ||
  brand?.objection_handle ||
  "Every detail matters. Excellence is engineered.";

const years =
  about?.years_experience ||
  intelligence?.years_experience ||
  "10+";

const industry =
  intelligence?.industry ||
  "Premium Services";

const brandName = brand?.name || "Our Brand";
const brandParts = brandName.split(" ");
const firstWord = brandParts[0];
const restOfName = brandParts.slice(1).join(" ");
---

<section id="about" class="py-24 px-6 bg-[var(--bg-color)] scroll-mt-20">

  <div class="max-w-7xl mx-auto">

    <div class="grid grid-cols-1 md:grid-cols-12 gap-5 auto-rows-[minmax(180px,auto)]">

      {/* FOUNDATION CARD */}
      <div class="md:col-span-8 md:row-span-2 p-8 md:p-12 bg-[var(--bg-card)] rounded-[var(--radius)] border border-[var(--border)] relative overflow-hidden group flex flex-col justify-start">

        {/* Accent glow */}
        <div class="absolute -top-20 -left-20 w-64 h-64 bg-[var(--accent)] opacity-[0.04] blur-[100px] group-hover:opacity-10 transition-opacity"></div>

        {/* Label */}
        <span class="text-[10px] font-bold uppercase tracking-[0.35em] text-[var(--accent)] mb-6">
          Foundation
        </span>

        {/* Brand Title */}
        <h2 class="text-4xl md:text-6xl font-black tracking-tight text-[var(--text-primary)] leading-[1.05] mb-6">

          {firstWord}

          {restOfName && (
            <span class="block text-[var(--accent)]">
              {restOfName}
            </span>
          )}

        </h2>

        {/* Story */}
        <p class="text-[var(--text-secondary)] text-base md:text-lg leading-relaxed max-w-2xl">
          {story}
        </p>

      </div>


      {/* FOUNDER NOTE CARD */}
      <div class="md:col-span-4 p-6 md:p-8 bg-[var(--bg-card)] border border-[var(--border)] rounded-[var(--radius)] flex flex-col justify-start">

        <span class="text-[10px] uppercase tracking-[0.3em] text-[var(--accent)] mb-4 font-bold">
          Founder Note
        </span>

        <p class="text-[var(--text-secondary)] text-sm leading-relaxed">
          {founderNote}
        </p>

        <div class="mt-6 text-[10px] uppercase tracking-[0.25em] text-[var(--text-secondary)]">
          â€” {brandName}
        </div>

      </div>


      {/* EXPERIENCE CARD */}
      <div class="md:col-span-4 p-6 md:p-8 rounded-[var(--radius)] border border-[var(--border)] bg-[var(--text-primary)] text-[var(--bg-color)] flex flex-col justify-between group hover:scale-[1.015] transition-transform duration-300">

        <div>

          <span class="text-[10px] uppercase tracking-[0.35em] opacity-60 font-bold">
            Experience
          </span>

          <div class="mt-3 text-3xl md:text-4xl font-black tracking-tight">
            {years}
          </div>

        </div>

        <div class="mt-6 text-[10px] uppercase tracking-[0.25em] opacity-60">
          {industry}
        </div>

      </div>


      {/* TRUST STAT CARD (auto-intelligence driven) */}
      <div class="md:col-span-4 p-6 md:p-8 rounded-[var(--radius)] border border-[var(--border)] bg-[var(--bg-card)] flex flex-col justify-between group hover:border-[var(--accent)] transition-colors">

        <span class="text-[10px] uppercase tracking-[0.35em] text-[var(--accent)] font-bold">
          Positioning
        </span>

        <p class="text-sm text-[var(--text-secondary)] mt-3 leading-relaxed">
          Positioned as a premium leader in the {industry.toLowerCase()} space through consistent execution and client trust.
        </p>

        <div class="mt-6 h-[2px] w-10 bg-[var(--accent)] opacity-60"></div>

      </div>


    </div>

  </div>

</section>